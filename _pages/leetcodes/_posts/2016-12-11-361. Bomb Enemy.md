---
layout: leetcode
title: 361. Bomb Enemy
categories: [leetcode]
excerpt_separator: <!--more-->
---
For each row, scan left to right and count the number of enemies on the left for each empty cell. Scan backwords to count the number of enemies on the right for each empty cell. Remember to reset count to 0 whenever encountering a wall.
Do the same (top to bottom and bottom to top) for each column.  
Then perform `max()` operation to find the global maximum, which is the answer.  
Time Complexity: $$O(mn)$$
<!--more-->

### Java Code:
{% highlight java %}
public class Solution {
    public int maxKilledEnemies(char[][] grid) {
        int m = grid.length;
        int n = (m == 0) ? 0: grid[0].length;
        
        int[][] opt = new int[m][n];
        int ans = 0;
        for(int i=0; i<m; i++) {
            int rowCount = 0;
            for(int j=0; j<n; j++) {
                if( grid[i][j] == '0')  opt[i][j] += rowCount;
                else if( grid[i][j] == 'E') rowCount++;
                else    rowCount = 0;
            }
            rowCount = 0;
            for(int j=n-1; j>=0; j--) {
                if( grid[i][j] == '0')  opt[i][j] += rowCount;
                else if( grid[i][j] == 'E') rowCount++;
                else    rowCount = 0;
            }
        }
        
        for(int j=0; j<n; j++) {
            int colCount = 0;
            for(int i=0; i<m; i++) {
                if( grid[i][j] == '0')  opt[i][j] += colCount;
                else if( grid[i][j] == 'E') colCount++;
                else    colCount = 0;
            }
            colCount = 0;
            for(int i=m-1; i>=0; i--) {
                if( grid[i][j] == '0')  {
                    opt[i][j] += colCount;
                    ans = Math.max(ans, opt[i][j]);
                }
                else if( grid[i][j] == 'E') colCount++;
                else    colCount = 0;
            }
        }
        return ans;
    }
}
{% endhighlight %}
<div
  class="fb-like"
  data-share="true"
  data-width="450"
  data-show-faces="true">
</div>
<div class="fb-comments" data-href="https://tyge318.github.io/{{page.title}}/" data-numposts="10"></div>
