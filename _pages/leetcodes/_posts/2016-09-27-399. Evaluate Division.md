---
layout: leetcode
title: 399. Evaluate Division
categories: [leetcode]
excerpt_separator: <!--more-->
---
This is a **Transitive Closure** problem.  
The existance of the equation $$a / b = k$$ implies two relations: $$a / b = k$$ and $$b / a = \frac{1}{k}$$. Thus, for any given equation, we can convert its two relations into a directed edge $$(a, b)$$ with weight $$k$$ and a directed edge $$(b, a)$$ with weight $$\frac{1}{k}$$. Therefore, the answer for query `[m, n]` is equivalent to the product of weights along the path from vertex `m` to vertext `n`.  
Note that the edge weight for $$(v, v)$$ is 1 and if two vertices are not reachable to each other, either because they are **disconnected** (i.e. lying in two connected part of $$G$$) or simply because either one of them $$\notin G$$, the cost is -1.  
Use [Floyd-Warshall's algorithm](https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm) to find the path and product.  
Time Complexity: $$O(n^3)$$ where $$n$$ is the total number of variables appeared in equations.
<!--more-->

### Java Code:
{% gist cf5625d105a70ba4854cf027c7dd7ea5 %}
<div
  class="fb-like"
  data-share="true"
  data-width="450"
  data-show-faces="true">
</div>
<div class="fb-comments" data-href="https://tyge318.github.io/{{page.title}}/" data-numposts="10"></div>
